<?xml version="1.0" ?>
<project default="main">

    <property name="src" location="../src/main/java" />
    <property name="output" location="bin" />
    <property environment="env" />

    <target name="main" depends="init, compile, run">
        <echo>
            Building and running....
        </echo>
    </target>
  
    <target name="init">
        <mkdir dir="${output}" />
    </target>
  
    <target name="compile">
        <javac srcdir="${src}" destdir="${output}" includeantruntime="false"/>
    </target>
  
    <target name="run">
        <java classname="gengfo.jrockit.HelloWorld"
            fork="true" >
            <classpath>
               <pathelement location="${output}"/>
            </classpath>
            
           
           <jvmarg value="-Dcom.sun.management.jmxremote.port=16203" />	
          
           <jvmarg value="-Dcom.sun.management.jmxremote.authenticate=false " />	
           <jvmarg value="-Dcom.sun.management.jmxremote.ssl=false" />	
           
          

            <!--
            -Dcom.sun.management.jmxremote.port=16203  -Dcom.sun.management.jmxremote.authenticate=false  -Dcom.sun.management.jmxremote.ssl=false
            -->
            
            
            <!--
              <jvmarg value="-Xverbose:gc" />
            <jvmarg value="-XX:+FlightRecorder" />
            -XX:StartFlightRecording=delay=120s,duration=60s,name=MyRecording,filename=C:\tmp\myrecording.jfr 
            <jvmarg value="-XX:StartFlightRecording=duration=600s,filename=gengfoRecorder.jfr" />
            <jvmarg value="-XX:FlightRecorderOptions=disk=true,maxchunksize=1M,dumponexit=true,dumponexitpath=path" />
            <jvmarg value="-Djrockit.ctrlbreak.enablerun_class=true" />
            -->
        </java>
    </target>
	
</project>